<!DOCTYPE html>
<html lang="kr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/sign-up.css">
  <script defer src="./js/sign-up.js"></script>  <title>Document</title>
</head>
<body>
  <div class="container">
    <h1>회원 가입을 환영합니다.</h1>
    <form onsubmit="check()">
      <fieldset>
        <legend>사용자 정보</legend>
        <ul>
          <li>
            <label for="u-id">아이디</label>
            <input type="text" id="uid" 
             placeholder="4자~10자 사이, 공백없이"
             name="user-id"
             required
             autofocus>
          </li>
          <li>
            <label for="u-email">이메일</label>
            <input type="email" name = "email" id="email"> 
          </li>
          <li>
            <label for="pwd1">비밀번호</label>
            <input type="password" id="pwd1"
            name="password"
            placeholder="문자와 숫자, 특수기호 포함"
            required>
          </li>
          <li>
            <label for="pwd2">비밀번호 확인</label>
            <input type="password" id="pwd2"
            required>
          </li>
          <li>
            <label for="path">가입경로</label>
            <select name="path" id="path">
              <option value="blog">블로그</option>
              <option value="search">검색</option>
              <option value="sns">SNS</option>
              <option value="etc">기타</option>
            </select>
          </li>
          <li>
            <label for="memo">메모</label>
            <textarea name="memo" id="memo"
            rows="4" cols="40">
          </textarea>
          </li>
        </ul>
      </fieldset>

      <fieldset>
        <form action="">
        <legend> 이벤트와 새로운 소식</legend>
        <input type="radio" id="mail_y" name="mailing" 
        value="ok" checked>
        <label for="mail_y">메일수신</label>
        <input type="radio" id="mail-n" name="mailing"
        value="no">
        <label for="mail-n">메일 수신 안 함 </label>
      </fieldset>
      <div class="buttons">
        <input type="submit" value="가입하기">
        <input type="reset" value="취소">
      </div>
    </form>
    </form>
  </div>
  <script>
    function check(){
      // 입력한 내용을 사라지지 않게 유지하는 함수
      event.preventDefault();
      const userId = document.querySelector("#uid");
      const email = document.querySelector("#email");
      const password = document.querySelector("#pwd1");
      const confirmPassword = document.querySelector("#pwd2");
      const path = document.querySelector("#path");
      const memo = document.querySelector("#memo");
      const mail_y =document.querySelector("#mail_y")
      const mailing= document.getElementsByName('mailing');



      // 1. 아이디가 4자~10자 사이인지 확인
      if(userId.value.length < 4 || userId.value.length > 10){
      alert('아이디는 4자~10자 사이입니다.')
      userId.focus();
      }

      // 2. 이메일이 비었는지 확인
      if(email.value.length == 0){
        alert('이메일이 비었습니다. 입력해주세요');
        // 비우고
        email.value = '';
        // 포커스 주기
        email.focus();
      }

      // 3. 비밀번호와 비밀번호 확인 두 값이 같은지 확인
      if(password.value !== confirmPassword.value){
        alert('비밀번호가 다릅니다. 확인하세요.');
        confirmPassword.value='';
        confirmPassword.focus();
      }
      
      // 메일 수신 여부를 검사 -> 리턴값 결정
      let mailReceive;


      mailing.forEach((x)=>{
        if(x.checked){
          mailReceive=x.value;
        }
      })
      
      // alert(userId.value.length)
      console.log('User-ID : ' +userId.value);
      console.log('Email : ' + email.value);
      console.log('Password : ' + email.value);
      console.log('가입경로 : ' + path.value);
      console.log('메모 : ' + memo.value);
      console.log('mailReceive :' + mailReceive);
    }
  </script>
</body>
</html>